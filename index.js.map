{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/helpers.js","../src/js/render-function.js","../src/js/constants.js","../src/js/products-api.js","../src/js/modal.js","../src/js/handlers.js","../src/js/feedback.js","../src/main.js"],"sourcesContent":["// Обʼєкт refs з посиланнями на елементи ДОМ.\n\nconst refs = {\n  categories: document.querySelector('#categories'),\n  products: document.querySelector('#products'),\n  modal: document.querySelector('.modal'),\n  modalProduct: document.querySelector('.modal-product'),\n  loadMoreBtn: document.querySelector('.load-more-btn'),\n  colorBox: document.querySelector('.products-color-list'),\n  loader: document.querySelector('.loader'),\n  feedbackCardList: document.querySelector('.feedback-card-list'),\n  feedbackNavPrev: document.querySelector('.feedback-nav-prev'),\n  feedbackNavNext: document.querySelector('.feedback-nav-next'),\n  feedbackPaginationDots: document.querySelector('.feedback-pagination-dots'),\n  feedbackSwiper: document.querySelector('.feedback-swiper'),\n  loader: document.querySelector('.backdrope-loader'),\n};\n\nexport default refs;\n","// Допоміжні функції, які знадобляться для реалізації завдання (показ повідомлень, кнопок, лоадерів)\n\nimport iziToast from 'izitoast';\nimport refs from './refs';\n\nexport function showLoadMoreBtn() {\n  setTimeout(() => {\n    refs.loadMoreBtn.classList.add('is-show');\n  }, 500);\n}\n\nexport function hideLoadMoreBtn() {\n  refs.loadMoreBtn.classList.remove('is-show');\n}\n\nexport function roundRating(rating) {\n  if (rating < 1 || rating > 5) {\n    return rating;\n  }\n\n  if (rating >= 3.3 && rating <= 3.7) {\n    return 3.5;\n  }\n  if (rating >= 3.8 && rating <= 4.2) {\n    return 4;\n  }\n\n  return Math.round(rating * 2) / 2;\n}\n\niziToast.settings({\n  position: 'topRight',\n  displayMode: 'replace',\n});\n\nexport function showInfo(message) {\n  iziToast.info({\n    message: message,\n  });\n}\n\nexport function showSuccess(message) {\n  iziToast.success({\n    message: message,\n  });\n}\n\nexport function showWarning(message) {\n  iziToast.warning({\n    message: message,\n  });\n}\n\nexport function showError(message) {\n  iziToast.error({\n    message: message,\n  });\n}\n\nexport function showLoader() {\n  refs.loader.classList.remove('hidden');\n}\n\nexport function hideLoader() {\n  refs.loader.classList.add('hidden');\n}\n","// Функції для відображення елементів інтерфейсу.\nimport refs from './refs';\nimport Accordion from 'accordion-js';\nimport 'accordion-js/dist/accordion.min.css';\nimport { roundRating } from './helpers';\nimport Raty from 'raty-js';\nimport '../css/faq.css';\n\nexport function renderCategories(arrey) {\n  const categories = [{ _id: 'all', name: 'Всі товари' }, ...arrey];\n\n  const murkup = categories\n    .map(\n      ({ _id, name: catName }) => `<li\n        class=\"category-item\" id=\"${_id}\"\n        style=\"\n          background-image: image-set(\n            url('./furniture-bg/${_id}.png') 1x,\n            url('./furniture-bg/${_id}@2x.png') 2x\n          );\n        \"\n      ><button class=\"categories-btn\" type=\"button\">${catName}</button></li>`\n    )\n    .join('');\n  refs.categories.innerHTML = murkup;\n}\n\nexport function renderFurnitures(arrey) {\n  const markup = arrey\n    .map(\n      ({\n        _id,\n        name,\n        images,\n        price,\n        color,\n      }) => `<li class=\"product-item\" data-id=\"${_id}\">\n        <img\n          class=\"products-image\"\n          src='${images[0]}'\n          alt=\"${name}\"\n        />\n        <div class=\"product-description-box\">\n          <h4 class=\"products-title\">${name}</h4>\n          <ul class=\"products-color-list\">\n            ${color\n              .map(\n                hex =>\n                  `<li class=\"products-color-box\" style=\"background-color: ${hex}\"></li>`\n              )\n              .join('')}\n          </ul>\n          <p class=\"products-price\">${price} грн</p>\n        </div>\n        <button class=\"products-details-btn\" type=\"button\">Детальніше</button>\n      </li>`\n    )\n    .join('');\n  refs.products.insertAdjacentHTML('beforeend', markup);\n}\n\nexport function clearFurnitures() {\n  refs.products.innerHTML = '';\n}\n\nnew Accordion('.accordion-container', {\n  duration: 300,\n  showMultiple: false,\n  beforeOpen: currElement => {\n    const arrow = currElement.querySelector('.ac-icon');\n    if (arrow) arrow.style.transform = 'rotate(180deg)';\n  },\n\n  beforeClose: currElement => {\n    const arrow = currElement.querySelector('.ac-icon');\n    if (arrow) arrow.style.transform = 'rotate(0deg)';\n  },\n});\n\n// Функція для створення розмітки картки відгуку\nexport function createFeedbackCardMarkup(feedback) {\n  const rating = feedback.rate ?? 0;\n  const roundedRating = roundRating(rating);\n\n  return `\n    <li class=\"swiper-slide feedback-card-item\">\n      <div class=\"feedback-rating\" data-score=\"${roundedRating}\" aria-label=\"Рейтинг ${roundedRating} з 5\"></div>\n      <p class=\"feedback-text\">${feedback.descr || ''}</p>\n      <p class=\"feedback-author\">${feedback.name || ''}</p>\n    </li>\n  `;\n}\n\n// Функція для рендерингу всіх відгуків\nexport function renderFeedbacks(feedbacks) {\n  if (!refs.feedbackCardList) {\n    return;\n  }\n\n  const markup = feedbacks\n    .map(feedback => createFeedbackCardMarkup(feedback))\n    .join('');\n  refs.feedbackCardList.innerHTML = markup;\n\n  const ratingElements =\n    refs.feedbackCardList.querySelectorAll('.feedback-rating');\n\n  ratingElements.forEach(container => {\n    const score = Number(container.dataset.score) || 0;\n\n    container.innerHTML = '';\n\n    const ratyInstance = new Raty(container, {\n      readOnly: true,\n      starType: 'i',\n      number: 5,\n      score,\n      half: true,\n      halfShow: true,\n      starOn: 'feedback-star-on',\n      starOff: 'feedback-star-off',\n      starHalf: 'feedback-star-half',\n      space: false,\n    });\n\n    ratyInstance.init();\n  });\n}\n","//API ендпоінти:\n\nexport const BASE_URL = 'https://furniture-store-v2.b.goit.study/api';\nexport const API_ENDPOINTS = {\n  FURNITURES: '/furnitures',\n  CATEGORIES: '/categories',\n  FEEDBACKS: '/feedbacks',\n  ORDERS: '/orders',\n};\nexport const FURNITURE_PAGE = 1;\nexport const FURNITURE_LIMIT = 8;\n\nexport const FEEDBACK_PAGE = 1;\nexport const FEEDBACK_LIMIT = 10;\n\nexport const getFurnitureByIdEndpoint = id => `/furnitures/${id}`;\n","// Функції для запитів на бекенд.\nimport axios from 'axios';\nimport {\n  BASE_URL,\n  API_ENDPOINTS,\n  getFurnitureByIdEndpoint,\n  FURNITURE_PAGE,\n  FURNITURE_LIMIT,\n  FEEDBACK_PAGE,\n  FEEDBACK_LIMIT,\n} from './constants.js';\n\naxios.defaults.baseURL = BASE_URL;\n\n// Functions for Furnitures\nexport async function getFurnitures(currentPage = FURNITURE_PAGE) {\n  const { data } = await axios(\n    `${API_ENDPOINTS.FURNITURES}?page=${currentPage}&limit=${FURNITURE_LIMIT}`\n  );\n  return data;\n}\n\nexport async function getFurnituresByCategories(categoryId, currentPage) {\n  const { data } = await axios(\n    `${API_ENDPOINTS.FURNITURES}?page=${currentPage}&limit=${FURNITURE_LIMIT}&category=${categoryId}`\n  );\n  return data;\n}\n\n// Furniture by Id\nexport async function getFurnitureByID(id) {\n  const endpoint = getFurnitureByIdEndpoint(id);\n  const response = await axios.get(endpoint);\n  const furnitureItem = response.data;\n  return furnitureItem;\n}\n\n// Functions for Categories\nexport async function getCategories() {\n  const response = await axios.get(API_ENDPOINTS.CATEGORIES);\n  const categoriesData = response.data;\n  return categoriesData;\n}\n\n// Feedbacks\nexport async function getFeedbacks(\n  params = { page: FEEDBACK_PAGE, limit: FEEDBACK_LIMIT }\n) {\n  const response = await axios.get(API_ENDPOINTS.FEEDBACKS, { params });\n  const feedbackData = response.data;\n  return feedbackData;\n}\n\n// Orders\nexport async function createOrder(orderData) {\n  const response = await axios.post(API_ENDPOINTS.ORDERS, orderData);\n  const createOrder = response.data;\n  return createOrder;\n}\n\n// // Functions for Furnitures\n// export async function getFurnitures(currentPage = 1) {\n//   const { data } = await axios.get(API_ENDPOINTS.FURNITURES, {\n//     params: {\n//       page: currentPage,\n//       limit: FURNITURE_LIMIT,\n//     },\n//   });\n//   return data;\n// }\n\n// export async function getFurnituresByCategories(categoryId, currentPage) {\n//   const { data } = await axios.get(API_ENDPOINTS.FURNITURES, {\n//     params: {\n//       page: currentPage,\n//       limit: FURNITURE_LIMIT,\n//       category: categoryId,\n//     },\n//   });\n//   return data;\n// }\n\n// // Furniture by Id\n// export async function getFurnitureByID(id) {\n//   const endpoint = getFurnitureByIdEndpoint(id);\n//   const { data } = await axios.get(endpoint);\n//   return data;\n// }\n\n// // Functions for Categories\n// export async function getCategories() {\n//   const { data } = await axios.get(API_ENDPOINTS.CATEGORIES);\n//   return data;\n// }\n\n// // Feedbacks\n// export async function getFeedbacks(\n//   params = { page: FEEDBACK_PAGE, limit: FEEDBACK_LIMIT }\n// ) {\n//   const { data } = await axios.get(API_ENDPOINTS.FEEDBACKS, { params });\n\n//   return data;\n// }\n\n// // Orders\n// export async function createOrder(orderData) {\n//   const { data } = await axios.post(API_ENDPOINTS.ORDERS, orderData);\n//   return data;\n// }\n","// src/js/modal.js\nimport 'izitoast/dist/css/iziToast.min.css';\nimport iziToast from 'izitoast';\nimport axios from 'axios';\nimport { hideLoader, showLoader } from './helpers';\n\naxios.defaults.baseURL = 'https://furniture-store-v2.b.goit.study/api';\n\n// ====== Перша модалка (деталі товару) ======\nconst productModal = document.querySelector('.modal-window');\n\nlet escHandler = null;\nlet backdropHandler = null;\n\n// зірочки\nfunction stars(rate = 0) {\n  const full = Math.floor(rate);\n  const half = rate % 1 >= 0.5 ? 1 : 0;\n  let out = '';\n  for (let i = 0; i < full; i++) out += '<span class=\"star star-full\">★</span>';\n  if (half) out += '<span class=\"star star-half\">★</span>';\n  for (let i = full + half; i < 5; i++) out += '<span class=\"star star-empty\">★</span>';\n  return out;\n}\n\nfunction normalizeImages(list) {\n  const BASE = 'https://furniture-store-v2.b.goit.study';\n  return (list || []).map(src =>\n    typeof src === 'string' && src.startsWith('http') ? src : `${BASE}${src}`\n  );\n}\n\nfunction q(refRoot, sel) {\n  return refRoot.querySelector(sel);\n}\n\nfunction getRefs(root) {\n  return {\n    dialog: q(root, '.product-modalWindow'),\n    mainImg: q(root, '.modal-image-0'),\n    thumbsWrap: q(root, '.modal-bottom-row'),\n    titleEl: q(root, '.product-modal-title'),\n    catEl: q(root, '.modal-description'),\n    priceEl: q(root, '.modal-price'),\n    starsEl: q(root, '.modal-rating-stars'),\n    colorsWrap: q(root, '.radio-group'),\n    descEl: q(root, '.furnitureDescription'),\n    sizeEl: q(root, '.furnitureSize'),\n    btnClose: q(root, '.modal-close-btn'),\n    orderBtn: q(root, '.modalButton'),\n  };\n}\n\nexport async function openProductModal(id) {\n  showLoader();\n  try {\n    // показати модалку\n      document.body.classList.add('modal-open');\n      productModal.classList.remove('visuallyhidden');\n      productModal.removeAttribute('aria-hidden');\n    const { data } = await axios.get(`/furnitures/${id}`);\n    const {\n      dialog,\n      mainImg,\n      thumbsWrap,\n      titleEl,\n      catEl,\n      priceEl,\n      starsEl,\n      colorsWrap,\n      descEl,\n      sizeEl,\n      btnClose,\n      orderBtn,\n    } = getRefs(productModal);\n\n    // картинки\n    const imgs = normalizeImages(data.images || data.image || []);\n    const safeImgs = imgs.length ? imgs : ['https://via.placeholder.com/640x360?text=No+Image'];\n    const main = safeImgs[0];\n    const thumbs = safeImgs.slice(1, 3);\n\n    if (mainImg) {\n      mainImg.src = main;\n      mainImg.alt = data?.name || 'photo';\n    }\n    if (thumbsWrap) {\n      thumbsWrap.innerHTML = thumbs\n        .map(src => `<img class=\"modal-thumb\" src=\"${src}\" alt=\"${data?.name || 'thumb'}\">`)\n        .join('');\n      // перемикання картинок\n      if (!thumbsWrap.dataset.bound) {\n        thumbsWrap.addEventListener('click', e => {\n          const img = e.target.closest('.modal-thumb');\n          if (!img || !mainImg) return;\n          const tmp = mainImg.src;\n          mainImg.src = img.src;\n          img.src = tmp;\n        });\n        thumbsWrap.dataset.bound = '1';\n      }\n    }\n\n    // текстові поля\n    if (titleEl) titleEl.textContent = data?.name || '';\n    if (catEl) catEl.textContent = data?.category?.name || 'Без категорії';\n    if (priceEl) priceEl.textContent = `${data?.price ?? 0} грн`;\n    if (starsEl) starsEl.innerHTML = stars(data?.rate || 0);\n    if (descEl) descEl.textContent = data?.description || 'Опис відсутній';\n    if (sizeEl) sizeEl.textContent = `Розміри: ${data?.sizes || '—'}`;\n\n    // кольори\n    if (colorsWrap) {\n      const colors = Array.isArray(data?.color) ? data.color : [];\n      colorsWrap.innerHTML = colors\n        .map(\n          (c, i) =>\n            `<label><input type=\"radio\" name=\"color\" value=\"${c}\" ${\n              i === 0 ? 'checked' : ''\n            }><span class=\"color-circle\" style=\"background:${c}\"></span></label>`\n        )\n        .join('');\n    }\n\n    // закриття\n    if (btnClose) btnClose.onclick = closeProductModal;\n\n    backdropHandler = e => {\n      if (e.target === productModal) closeProductModal();\n    };\n    productModal.addEventListener('mousedown', backdropHandler);\n\n    escHandler = e => {\n      if (e.key === 'Escape') closeProductModal();\n    };\n    document.addEventListener('keydown', escHandler);\n\n    if (orderBtn) {\n      orderBtn.onclick = () => {\n        const checked = productModal.querySelector('input[name=\"color\"]:checked');\n        const color = checked ? checked.value : null;\n        openOrderModal(id, color);\n        closeProductModal();\n      };\n    }\n\n    // фокус\n    if (dialog) {\n      dialog.setAttribute('tabindex', '-1');\n      dialog.focus({ preventScroll: true });\n    }\n  } catch (e) {\n    closeProductModal();\n    showError(e);\n    closeModal();\n  } finally {\n    hideLoader();\n  }\n}\n\nfunction closeProductModal() {\n  const active = document.activeElement;\n  if (active && productModal.contains(active)) active.blur();\n\n  productModal.classList.add('visuallyhidden');\n  productModal.setAttribute('aria-hidden', 'true');   // <— ставимо aria-hidden\n  document.body.classList.remove('modal-open');\n\n  if (escHandler) { document.removeEventListener('keydown', escHandler); escHandler = null; }\n  if (backdropHandler) { productModal.removeEventListener('mousedown', backdropHandler); backdropHandler = null; }\n}\n\n// ====== Друга модалка (замовлення) ======\nconst backdropOrderModal = document.querySelector('.backdrop');\nconst orderDialog = document.querySelector('.order-modal');\nconst closeOrderBtn = document.querySelector('.modal-close-btn');\nconst submitBtn = document.querySelector('.modal-submit-btn');\nconst orderForm = document.querySelector('.modal-order-form');\n\nlet currentModelId = null; \nlet currentColor = null;   \n\nfunction lockBody() {\n  document.body.classList.add('modal-open');\n}\nfunction unlockBody() {\n  document.body.classList.remove('modal-open');\n}\n\nfunction handleOrderEsc(e) {\n  if (e.key === 'Escape') closeOrderModal();\n}\n\nexport async function openOrderModal(modelId, color) {\n  currentModelId = modelId ?? null;\n  currentColor = color ?? null;\n\n  backdropOrderModal.classList.add('is-open');\n  backdropOrderModal.removeAttribute('aria-hidden');   // <—\n  lockBody();\n\n  setTimeout(() => {\n    // фокус у перше поле\n    orderForm?.elements['user-name']?.focus();\n  }, 10);\n\n  window.addEventListener('keydown', handleOrderEsc);\n}\n\nexport async function closeOrderModal() {\n\n  const active = document.activeElement;\n  if (active && backdropOrderModal.contains(active)) active.blur();\n\n  backdropOrderModal.classList.remove('is-open');\n  backdropOrderModal.setAttribute('aria-hidden', 'true'); // <—\n  unlockBody();\n  window.removeEventListener('keydown', handleOrderEsc);\n}\n\ncloseOrderBtn?.addEventListener('click', () => closeOrderModal());\n\nbackdropOrderModal?.addEventListener('mousedown', e => {\n  if (e.target === backdropOrderModal) closeOrderModal();\n});\n\n// сабміт\norderForm?.addEventListener('submit', async e => {\n  e.preventDefault();\n\n  const name = orderForm.elements['user-name']?.value.trim() || '';\n  const phone = orderForm.elements['phone']?.value.trim() || '';\n  const comment = orderForm.elements['user-comment']?.value.trim() || '';\n\n  if (!name || !phone) {\n    iziToast.warning({\n      title: 'Увага',\n      message: \"Будь ласка, заповніть ім'я та телефон.\",\n      position: 'topRight',\n    });\n    return;\n  }\n\n  // обов'язкові для бекенду:\n  if (!currentModelId) {\n    iziToast.warning({\n      title: 'Увага',\n      message: 'Оберіть товар (відкрийте картку і натисніть “Перейти до замовлення”).',\n      position: 'topRight',\n    });\n    return;\n  }\n  if (!currentColor) {\n    iziToast.warning({\n      title: 'Увага',\n      message: 'Оберіть колір у картці товару перед замовленням.',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  const clearPhone = phone.replace(/[^\\d+]/g, '');\n  const phonePattern = /^\\+?\\d{10,15}$/;\n  if (!phonePattern.test(clearPhone)) {\n    iziToast.warning({\n      title: 'Увага',\n      message: 'Введіть коректний номер телефону.',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  const payload = {\n    name,\n    phone: clearPhone,\n    comment,\n    modelId: currentModelId, \n    color: currentColor,     \n  };\n\n  submitBtn.disabled = true;\n\n  try {\n    const res = await axios.post('/orders', payload);\n\n    iziToast.success({\n      title: 'Успішно',\n      message: 'Ваше замовлення відправлено!',\n      position: 'topRight',\n      timeout: 3000,\n    });\n\n    orderForm.reset();\n    // очистимо LS, якщо зберігали поля\n    orderForm.querySelectorAll('input, textarea').forEach(f => {\n      localStorage.removeItem(f.name);\n    });\n\n    closeOrderModal();\n  } catch (error) {\n    const msg =\n      error?.response?.data?.message ||\n      'Щось пішло не так. Спробуйте ще раз.';\n    iziToast.error({\n      title: 'Помилка',\n      message: msg,\n      position: 'topRight',\n    });\n    // форму не закриваємо\n  } finally {\n    submitBtn.disabled = false;\n  }\n});\n\n// збереження полів у localStorage\nfunction onFieldInput(e) {\n  const f = e.target;\n  if (!f?.name) return;\n  localStorage.setItem(f.name, f.value);\n}\norderForm?.querySelectorAll('input, textarea').forEach(f => {\n  f.addEventListener('input', onFieldInput);\n  const saved = localStorage.getItem(f.name);\n  if (saved) f.value = saved;\n});\n\n","// Хендлери, які передаються в addEventListener.\n\nimport {\n  clearFurnitures,\n  renderCategories,\n  renderFurnitures,\n} from './render-function';\nimport {\n  getFurnitures,\n  getFurnitureByID,\n  getCategories,\n  getFeedbacks,\n  createOrder,\n  getFurnituresByCategories,\n} from './products-api.js';\n\nimport {\n  FURNITURE_PAGE,\n  FURNITURE_LIMIT,\n  FEEDBACK_PAGE,\n  FEEDBACK_LIMIT,\n} from './constants.js';\nimport refs from './refs.js';\nimport {\n  hideLoader,\n  hideLoadMoreBtn,\n  showError,\n  showInfo,\n  showLoader,\n  showLoadMoreBtn,\n} from './helpers.js';\n\nlet currentPage = 1;\nlet currentCategory = '';\n\nexport async function initialHome() {\n  try {\n    showLoader();\n\n    const categories = await getCategories();\n    renderCategories(categories);\n\n    currentCategory = 'all';\n    const allCategoryItem = refs.categories.children[0];\n    allCategoryItem.classList.add('categories-item--active');\n\n    const { furnitures } = await getFurnitures();\n    renderFurnitures(furnitures);\n    showLoadMoreBtn();\n  } catch (error) {\n    showError(error);\n  } finally {\n    hideLoader();\n  }\n}\n\nexport async function handlerClickCategory(event) {\n  const item = event.target.closest('.category-item');\n  if (!item) {\n    return;\n  }\n\n  const categoriesChildrenArrey = [...event.currentTarget.children];\n\n  categoriesChildrenArrey.map(child => {\n    child.classList.remove('categories-item--active');\n  });\n\n  clearFurnitures();\n  item.classList.add('categories-item--active');\n  currentPage = 1;\n  currentCategory = item.id;\n\n  showLoader();\n  try {\n    if (currentCategory === 'all') {\n      const { furnitures } = await getFurnitures();\n      renderFurnitures(furnitures);\n      showLoadMoreBtn();\n    } else {\n      const { furnitures, totalItems } = await getFurnituresByCategories(\n        currentCategory,\n        currentPage\n      );\n      if (!furnitures.length) {\n        hideLoadMoreBtn();\n        showInfo('Not found');\n        return;\n      } else {\n        if (totalItems < FURNITURE_LIMIT) {\n          hideLoadMoreBtn();\n          showInfo('End collections');\n        }\n        renderFurnitures(furnitures);\n      }\n    }\n  } catch (error) {\n    showError(error);\n  } finally {\n    hideLoader();\n  }\n}\n\nexport async function onLoadMoreClick(event) {\n  event.preventDefault();\n  currentPage++;\n  showLoader();\n\n  try {\n    if (currentCategory === 'all') {\n      const { furnitures, totalItems } = await getFurnitures(currentPage);\n      if (totalItems < FURNITURE_LIMIT * currentPage) {\n        hideLoadMoreBtn();\n        showInfo('End collections');\n      } else {\n        showLoadMoreBtn();\n      }\n      renderFurnitures(furnitures);\n    } else {\n      const { furnitures, totalItems } = await getFurnituresByCategories(\n        currentCategory,\n        currentPage\n      );\n\n      if (!furnitures.length) {\n        hideLoadMoreBtn();\n        showInfo('Not found');\n        return;\n      } else {\n        if (totalItems < FURNITURE_LIMIT) {\n          hideLoadMoreBtn();\n          showInfo('End collections');\n        }\n        renderFurnitures(furnitures);\n      }\n    }\n  } catch (error) {\n    showError(error);\n  } finally {\n    hideLoader();\n  }\n}\n\nimport { openProductModal } from './modal.js';\n\nexport const onProductsClick = e => {\n  const btn = e.target.closest('.products-details-btn');\n  if (!btn) return;\n\n  const card = btn.closest('.product-item');\n  if (!card) return;\n\n  let id = card.dataset.id;\n\n  if (!id) {\n    const img = card.querySelector('img[src*=\"/furniture/\"]');\n    const src = img?.getAttribute('src') || '';\n    const m = src.match(/\\/([a-f0-9]{24})_/i);\n    if (m) id = m[1];\n  }\n\n  if (!id) {\n    console.warn('Не знайдено id товару для модалки');\n    return;\n  }\n\n  e.preventDefault();\n  openProductModal(id);\n};\n\n// // furniture\n// export async function loadFurnitures(\n//   params = { page: FURNITURE_PAGE, limit: FURNITURE_LIMIT }\n// ) {\n//   try {\n//     const data = await getFurnitures(params.page || FURNITURE_PAGE);\n//     console.log('Furnitures:', data);\n//     return data;\n//   } catch (error) {\n//     console.error('Furnitures downloading error:', error);\n//     return null;\n//   }\n// }\n\n// export async function loadFurnitureById(id) {\n//   try {\n//     const data = await getFurnitureByID(id);\n//     console.log('Furniture details:', data);\n//     return data;\n//   } catch (error) {\n//     console.error('Furniture id downloading error:', error);\n//     return null;\n//   }\n// }\n\n// export async function loadCategories() {\n//   try {\n//     const data = await getCategories();\n//     console.log('Categories:', data);\n//     return data;\n//   } catch (error) {\n//     console.error('Categories downloading error:', error);\n//     return null;\n//   }\n// }\n\n// Примітка: Функція loadFeedbacks реалізована в feedback.js\n// Використовуйте initFeedbacks() з feedback.js для завантаження відгуків\n// export async function loadFeedbacks(\n//   params = { page: FEEDBACK_PAGE, limit: FEEDBACK_LIMIT }\n// ) {\n//   try {\n//     const data = await getFeedbacks(params);\n//     console.log('Feedbacks', data);\n//     return data;\n//   } catch (error) {\n//     console.error('Feedbacks downloading error:', error);\n//     return null;\n//   }\n// }\n// export async function sendOrder(orderData) {\n//   try {\n//     const data = await createOrder(orderData);\n//     console.log('Order created:', data);\n//     return data;\n//   } catch (error) {\n//     console.error('Creating order error:', error);\n//     return null;\n//   }\n// }\n","// Функціонал для секції відгуків\nimport Swiper from 'swiper';\nimport { Navigation, Pagination } from 'swiper/modules';\nimport 'swiper/css';\nimport 'swiper/css/navigation';\nimport 'swiper/css/pagination';\nimport { getFeedbacks } from './products-api.js';\nimport { renderFeedbacks } from './render-function.js';\nimport { FEEDBACK_LIMIT } from './constants.js';\nimport refs from './refs.js';\n\nlet feedbackSwiper = null;\n\n// Ініціалізація Swiper для відгуків\nexport function initFeedbackSwiper(totalSlides = 10) {\n  if (!refs.feedbackSwiper || !refs.feedbackCardList) {\n    return;\n  }\n\n  if (feedbackSwiper) {\n    feedbackSwiper.destroy(true, true);\n    feedbackSwiper = null;\n  }\n\n  feedbackSwiper = new Swiper(refs.feedbackSwiper, {\n    modules: [Navigation, Pagination],\n    slidesPerView: 1,\n    slidesPerGroup: 1,\n    spaceBetween: 24,\n    loop: false,\n    grabCursor: true,\n    allowTouchMove: true,\n    touchRatio: 1,\n    simulateTouch: true,\n    watchSlidesProgress: true,\n    \n    navigation: {\n      nextEl: refs.feedbackNavNext,\n      prevEl: refs.feedbackNavPrev,\n    },\n    \n    pagination: {\n      el: refs.feedbackPaginationDots,\n      clickable: true,\n      bulletClass: 'feedback-pagination-dot',\n      bulletActiveClass: 'active',\n      type: 'bullets',\n      dynamicBullets: false,\n    },\n    \n    breakpoints: {\n      375: {\n        slidesPerView: 1,\n        slidesPerGroup: 1,\n        spaceBetween: 16,\n      },\n      768: {\n        slidesPerView: 2,\n        slidesPerGroup: 1,\n        spaceBetween: 24,\n      },\n      1200: {\n        slidesPerView: 3,\n        slidesPerGroup: 1,\n        spaceBetween: 24,\n      },\n    },\n    \n    on: {\n      init: function () {\n        updateNavigationButtons();\n        // updatePagination();\n      },\n      slideChange: function () {\n        updateNavigationButtons();\n        // updatePagination();\n      },\n      resize: function () {\n        updateNavigationButtons();\n      },\n    },\n  });\n  \n  return feedbackSwiper;\n}\n\n// Оновлення стану кнопок навігації\nfunction updateNavigationButtons() {\n  if (!feedbackSwiper || !refs.feedbackNavPrev || !refs.feedbackNavNext) {\n    return;\n  }\n\n  const isBeginning = feedbackSwiper.isBeginning;\n  const isEnd = feedbackSwiper.isEnd;\n\n  if (isBeginning) {\n    refs.feedbackNavPrev.setAttribute('disabled', 'true');\n    refs.feedbackNavPrev.classList.add('disabled');\n    refs.feedbackNavPrev.setAttribute('aria-disabled', 'true');\n  } else {\n    refs.feedbackNavPrev.removeAttribute('disabled');\n    refs.feedbackNavPrev.classList.remove('disabled');\n    refs.feedbackNavPrev.setAttribute('aria-disabled', 'false');\n  }\n\n  if (isEnd) {\n    refs.feedbackNavNext.setAttribute('disabled', 'true');\n    refs.feedbackNavNext.classList.add('disabled');\n    refs.feedbackNavNext.setAttribute('aria-disabled', 'true');\n  } else {\n    refs.feedbackNavNext.removeAttribute('disabled');\n    refs.feedbackNavNext.classList.remove('disabled');\n    refs.feedbackNavNext.setAttribute('aria-disabled', 'false');\n  }\n}\n\n// Оновлення пагінації\n// function updatePagination() {\n\n// }\n\n// Завантаження та відображення відгуків\nexport async function loadFeedbacks() {\n  try {\n    const data = await getFeedbacks({ limit: FEEDBACK_LIMIT });\n    const feedbacks = data.feedbacks || [];\n    \n    if (feedbacks.length === 0) {\n      console.warn('No feedbacks received from API');\n      return;\n    }\n\n\n    renderFeedbacks(feedbacks);\n    \n    setTimeout(() => {\n      initFeedbackSwiper(feedbacks.length);\n    }, 50);\n    \n  } catch (error) {\n    console.error('Error loading feedbacks:', error);\n  }\n}\n\n// Ініціалізація відгуків при завантаженні сторінки\nexport async function initFeedbacks() {\n\n  if (!refs.feedbackSwiper || !refs.feedbackCardList || !refs.feedbackNavPrev || !refs.feedbackNavNext || !refs.feedbackPaginationDots) {\n    console.warn('Feedback section elements not found in DOM');\n    return;\n  }\n  \n  await loadFeedbacks();\n}\n\n","// src/main.js\nimport refs from './js/refs.js';\nimport {\n  handlerClickCategory,\n  initialHome,\n  onLoadMoreClick,\n  onProductsClick,\n} from './js/handlers.js';\nimport { initFeedbacks } from './js/feedback.js';\n\nwindow.addEventListener('load', () => {\n  requestAnimationFrame(() => {\n    window.scrollTo({ top: 0, left: 0, behavior: 'auto' });\n  });\n});\n\ndocument.addEventListener('DOMContentLoaded', initialHome);\ndocument.addEventListener('DOMContentLoaded', initFeedbacks);\n\nrefs.categories.addEventListener('click', handlerClickCategory);\nrefs.loadMoreBtn.addEventListener('click', onLoadMoreClick);\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  if (refs.categories && !refs.categories.dataset.bound) {\n    refs.categories.addEventListener('click', handlerClickCategory);\n    refs.categories.dataset.bound = '1';\n  }\n\n  if (refs.loadMoreBtn && !refs.loadMoreBtn.dataset.bound) {\n    refs.loadMoreBtn.addEventListener('click', onLoadMoreClick);\n    refs.loadMoreBtn.dataset.bound = '1';\n  }\n\n  const productsEl = refs.products || document.getElementById('products');\n  if (productsEl && productsEl.dataset.boundModal !== '1') {\n    productsEl.addEventListener('click', onProductsClick);\n    productsEl.dataset.boundModal = '1';\n  }\n});\n"],"names":["refs","showLoadMoreBtn","hideLoadMoreBtn","roundRating","rating","iziToast","showInfo","message","showError","showLoader","hideLoader","renderCategories","arrey","murkup","_id","catName","renderFurnitures","markup","name","images","price","color","hex","clearFurnitures","Accordion","currElement","arrow","createFeedbackCardMarkup","feedback","roundedRating","renderFeedbacks","feedbacks","container","score","Raty","BASE_URL","API_ENDPOINTS","FURNITURE_PAGE","FURNITURE_LIMIT","FEEDBACK_PAGE","FEEDBACK_LIMIT","axios","getFurnitures","currentPage","data","getFurnituresByCategories","categoryId","getCategories","getFeedbacks","params","productModal","escHandler","backdropHandler","stars","rate","full","half","out","i","normalizeImages","list","BASE","src","q","refRoot","sel","getRefs","root","openProductModal","id","dialog","mainImg","thumbsWrap","titleEl","catEl","priceEl","starsEl","colorsWrap","descEl","sizeEl","btnClose","orderBtn","imgs","safeImgs","main","thumbs","e","img","tmp","colors","c","closeProductModal","checked","openOrderModal","active","backdropOrderModal","closeOrderBtn","submitBtn","orderForm","currentModelId","currentColor","lockBody","unlockBody","handleOrderEsc","closeOrderModal","modelId","phone","comment","clearPhone","payload","res","f","error","msg","onFieldInput","saved","currentCategory","initialHome","categories","furnitures","handlerClickCategory","event","item","child","totalItems","onLoadMoreClick","onProductsClick","btn","card","m","feedbackSwiper","initFeedbackSwiper","totalSlides","Swiper","Navigation","Pagination","updateNavigationButtons","isBeginning","isEnd","loadFeedbacks","initFeedbacks","productsEl"],"mappings":"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"}