{"version":3,"file":"index.js","sources":["../src/js/constants.js","../src/js/refs.js","../src/js/render-function.js","../src/js/products-api.js","../src/js/handlers.js","../src/main.js"],"sourcesContent":["//API ендпоінти:\n\nexport const BASE_URL = 'https://furniture-store-v2.b.goit.study/api';\nexport const API_ENDPOINTS = {\n  FURNITURES: '/furnitures/',\n  CATEGORIES: '/categories',\n  FEEDBACKS: '/feedbacks',\n  ORDERS: '/orders',\n};\nexport const FURNITURE_PAGE = 1;\nexport const FURNITURE_LIMIT = 8;\n\nexport const FEEDBACK_PAGE = 1;\nexport const FEEDBACK_LIMIT = 10;\n\nexport const getFurnitureByIdEndpoint = id => `/furnitures/${id}`;\n","// Обʼєкт refs з посиланнями на елементи ДОМ.\n\nconst refs = {\n  categories: document.querySelector('#categories'),\n  products: document.querySelector('#products'),\n  modal: document.querySelector('.modal'),\n  modalProduct: document.querySelector('.modal-product'),\n  loadMoreBtn: document.querySelector('.load-more-btn'),\n  loader: document.querySelector('.loader'),\n};\n\nexport default refs;\n","// Функції для відображення елементів інтерфейсу.\nimport refs from './refs';\nimport Accordion from \"accordion-js\";\nimport \"accordion-js/dist/accordion.min.css\";\n\nexport function renderCategories(arrey) {\n  const categories = [{ _id: 'all', name: 'Всі товари' }, ...arrey];\n  console.log(categories);\n\n  const murkup = categories\n    .map(\n      ({ _id, name: catName }) => `<li\n        class=\"category-item\"\n        style=\"\n          background-image: image-set(\n            url('/img/furniture/${_id}.png') 1x,\n            url('/img/furniture/${_id}@2x.png') 2x\n          );\n        \"\n      >\n        ${catName}\n      </li>`\n    )\n    .join('');\n  refs.categories.innerHTML = murkup;\n}\n\nexport function renderProducts(arrey) {\n  const markup = arrey\n    .map(\n      ({ _id, name, images, price, color }) => `<li class=\"product-item\">\n        <img\n          class=\"products-image\"\n          src='${images[0]}'\n          alt=\"${name}\"\n        />\n        <div class=\"product-description-box\">\n          <h4 class=\"products-title\">${name}</h4>\n          <ul class=\"products-color-list\">\n            <li class=\"products-color-box\" style=\"background-color: ${color[0]}\"></li>\n            <li class=\"products-color-box\" style=\"background-color: ${color[1]}\"></li>\n            <li\n              class=\"products-color-box\"\n              style=\"background-color: ${color[2]}\"\n            ></li>\n          </ul>\n          <p class=\"products-price\">${price} грн</p>\n        </div>\n        <button class=\"products-details-btn\" type=\"button\">Детальніше</button>\n      </li>`\n    )\n    .join('');\n  refs.products.insertAdjacentHTML('beforeend', markup);\n}\n\n// export function clearProdutsList() {\n//   refs.products.innerHTML = '';\n// }\n\nnew Accordion('.accordion-container', {\n  duration: 300,\n  showMultiple: false,\n});\n","// Функції для запитів на бекенд.\nimport axios from 'axios';\nimport {\n  BASE_URL,\n  API_ENDPOINTS,\n  getFurnitureByIdEndpoint,\n  FURNITURE_PAGE,\n  FURNITURE_LIMIT,\n  FEEDBACK_PAGE,\n  FEEDBACK_LIMIT,\n} from './constants.js';\naxios.defaults.baseURL = BASE_URL;\n// Functions for Furnitures\nexport async function getFurnitures(\n  params = { page: FURNITURE_PAGE, limit: FURNITURE_LIMIT }\n) {\n  const response = await axios.get(API_ENDPOINTS.FURNITURES, { params });\n  const furnituresData = response.data;\n  return furnituresData;\n}\n// Furniture by Id\nexport async function getFurnitureByID(id) {\n  const endpoint = getFurnitureByIdEndpoint(id);\n  const response = await axios.get(endpoint);\n  const furnitureItem = response.data;\n  return furnitureItem; // один обєкт меблів\n}\n// Functions for Categories\nexport async function getCategories() {\n  const response = await axios.get(API_ENDPOINTS.CATEGORIES);\n  const categoriesData = response.data;\n\n  return categoriesData; // масив категорій\n}\n// Feedbacks\nexport async function getFeedbacks(\n  params = { page: FEEDBACK_PAGE, limit: FURNITURE_LIMIT }\n) {\n  const response = await axios.get(API_ENDPOINTS.FEEDBACKS, { params });\n  const feedbackData = response.data;\n  return feedbackData;\n}\n// Orders\nexport async function createOrder(orderData) {\n  const response = await axios.post(API_ENDPOINTS.ORDERS, orderData);\n  const createOrder = response.data;\n  return createOrder;\n}\n","// Хендлери, які передаються в addEventListener.\n\nimport { renderCategories, renderProducts } from './render-function';\nimport {\n  getFurnitures,\n  getFurnitureByID,\n  getCategories,\n  getFeedbacks,\n  createOrder,\n} from './products-api.js';\n\nimport {\n  FURNITURE_PAGE,\n  FURNITURE_LIMIT,\n  FEEDBACK_PAGE,\n  FEEDBACK_LIMIT,\n} from './constants.js';\nlet currentPage = 1;\nlet currentCategory = '';\n\nexport async function initialHome() {\n  try {\n    const categories = await getCategories();\n\n    renderCategories(categories);\n\n    // currentCategory = 'all';\n    // const allCategoryItem = refs.categories.children[0].children[0];\n    // allCategoryItem.classList.add('categories-item--active');\n    // showLoader();\n    // const { products, total, limit, skip } = await getProducts(currentPage);\n    renderProducts(products);\n    // showLoadMoreBtn();\n  } catch (error) {\n    // showError(error);\n  } finally {\n    // hideLoader();\n  }\n}\n// furniture\nexport async function loadFurnitures(\n  params = { page: FURNITURE_PAGE, limit: FURNITURE_LIMIT }\n) {\n  try {\n    const data = await getFurnitures(params);\n    console.log('Furnitures:', data);\n    return data;\n  } catch (error) {\n    console.error('Furnitures downloading error:', error);\n    return null;\n  }\n}\nexport async function loadFurnitureById(id) {\n  try {\n    const data = await loadFurnitureById(id);\n    console.log('Furniture details:', data);\n    return data;\n  } catch (error) {\n    console.error('Furniture id downloading error:', error);\n    return null;\n  }\n}\nexport async function loadCategories() {\n  try {\n    const data = await loadCategories();\n    console.log('Categories:', data);\n    return data;\n  } catch (error) {\n    console.error('Categories downloading error:', error);\n    return null;\n  }\n}\nexport async function loadFeedbacks(\n  params = { page: FEEDBACK_PAGE, limit: FEEDBACK_LIMIT }\n) {\n  try {\n    const data = await loadFeedbacks(params);\n    console.log('Feedbacks', data);\n    return data;\n  } catch (error) {\n    console.error('Feedbacks downloading error:', error);\n    return null;\n  }\n}\nexport async function sendOrder() {\n  try {\n    const data = await sendOrder();\n    console.log('Order created:', data);\n    return data;\n  } catch (error) {\n    console.error('Creating order error:', error);\n    return null;\n  }\n}\n","import { FURNITURE_LIMIT, FURNITURE_PAGE } from './js/constants.js';\nimport { loadFurnitures } from './js/handlers.js';\nimport { initialHome } from './js/handlers';\n\n \ndocument.addEventListener('DOMContentLoaded', initialHome);\n\ndocument.addEventListener('DOMContentLoaded', async () => {\n  console.log('Перевірка API...');\n  // testing furnitures\n  const furnitures = await loadFurnitures({\n    page: FURNITURE_PAGE,\n    limit: FURNITURE_LIMIT,\n  });\n  console.log('Меблі:', furnitures);\n});\n"],"names":["BASE_URL","API_ENDPOINTS","FURNITURE_PAGE","FURNITURE_LIMIT","refs","renderCategories","arrey","categories","murkup","_id","catName","renderProducts","markup","name","images","price","color","Accordion","axios","getFurnitures","params","getCategories","initialHome","loadFurnitures","data","error","furnitures"],"mappings":"6vBAEO,MAAMA,EAAW,8CACXC,EAAgB,CAC3B,WAAY,eACZ,WAAY,aAGd,EACaC,EAAiB,EACjBC,EAAkB,ECRzBC,EAAO,CACX,WAAY,SAAS,cAAc,aAAa,EAChD,SAAU,SAAS,cAAc,WAAW,EAC5C,MAAO,SAAS,cAAc,QAAQ,EACtC,aAAc,SAAS,cAAc,gBAAgB,EACrD,YAAa,SAAS,cAAc,gBAAgB,EACpD,OAAQ,SAAS,cAAc,SAAS,CAC1C,ECJO,SAASC,EAAiBC,EAAO,CACtC,MAAMC,EAAa,CAAC,CAAE,IAAK,MAAO,KAAM,YAAY,EAAI,GAAGD,CAAK,EAChE,QAAQ,IAAIC,CAAU,EAEtB,MAAMC,EAASD,EACZ,IACC,CAAC,CAAE,IAAAE,EAAK,KAAMC,CAAO,IAAO;AAAA;AAAA;AAAA;AAAA,kCAIAD,CAAG;AAAA,kCACHA,CAAG;AAAA;AAAA;AAAA;AAAA,UAI3BC,CAAO;AAAA,YAEjB,EACK,KAAK,EAAE,EACVN,EAAK,WAAW,UAAYI,CAC9B,CAEO,SAASG,EAAeL,EAAO,CACpC,MAAMM,EAASN,EACZ,IACC,CAAC,CAAE,IAAAG,EAAK,KAAAI,EAAM,OAAAC,EAAQ,MAAAC,EAAO,MAAAC,CAAK,IAAO;AAAA;AAAA;AAAA,iBAG9BF,EAAO,CAAC,CAAC;AAAA,iBACTD,CAAI;AAAA;AAAA;AAAA,uCAGkBA,CAAI;AAAA;AAAA,sEAE2BG,EAAM,CAAC,CAAC;AAAA,sEACRA,EAAM,CAAC,CAAC;AAAA;AAAA;AAAA,yCAGrCA,EAAM,CAAC,CAAC;AAAA;AAAA;AAAA,sCAGXD,CAAK;AAAA;AAAA;AAAA,YAI3C,EACK,KAAK,EAAE,EACVX,EAAK,SAAS,mBAAmB,YAAaQ,CAAM,CACtD,CAMA,IAAIK,EAAU,uBAAwB,CACpC,SAAU,IACV,aAAc,EAChB,CAAC,ECnDDC,EAAM,SAAS,QAAUlB,EAElB,eAAemB,EACpBC,EAAS,CAAE,KAAMlB,EAAgB,MAAOC,CAAe,EACvD,CAGA,OAFiB,MAAMe,EAAM,IAAIjB,EAAc,WAAY,CAAE,OAAAmB,EAAQ,GACrC,IAElC,CASO,eAAeC,GAAgB,CAIpC,OAHiB,MAAMH,EAAM,IAAIjB,EAAc,UAAU,GACzB,IAGlC,CCbO,eAAeqB,GAAc,CAClC,GAAI,CACF,MAAMf,EAAa,MAAMc,EAAa,EAEtChB,EAAiBE,CAAU,EAO3BI,EAAe,QAAQ,CAEzB,MAAgB,CAEhB,QAAC,CAED,CACF,CAEO,eAAeY,EACpBH,EAAS,CAAE,KAAMlB,EAAgB,MAAOC,CAAe,EACvD,CACA,GAAI,CACF,MAAMqB,EAAO,MAAML,EAAcC,CAAM,EACvC,eAAQ,IAAI,cAAeI,CAAI,EACxBA,CACT,OAASC,EAAO,CACd,eAAQ,MAAM,gCAAiCA,CAAK,EAC7C,IACT,CACF,CC9CA,SAAS,iBAAiB,mBAAoBH,CAAW,EAEzD,SAAS,iBAAiB,mBAAoB,SAAY,CACxD,QAAQ,IAAI,kBAAkB,EAE9B,MAAMI,EAAa,MAAMH,EAAe,CACtC,KAAMrB,EACN,MAAOC,CACX,CAAG,EACD,QAAQ,IAAI,SAAUuB,CAAU,CAClC,CAAC"}