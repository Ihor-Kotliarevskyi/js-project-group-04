{"version":3,"file":"index.js","sources":["../src/js/constants.js","../src/js/products-api.js","../src/js/handlers.js","../src/js/render-function.js","../src/js/modal.js","../src/main.js"],"sourcesContent":["//API ендпоінти:\n\nexport const BASE_URL = 'https://furniture-store-v2.b.goit.study/api';\nexport const API_ENDPOINTS = {\n  FURNITURES: '/furnitures/',\n  CATEGORIES: '/categories',\n  FEEDBACKS: '/feedbacks',\n  ORDERS: '/orders',\n};\nexport const FURNITURE_PAGE = 1;\nexport const FURNITURE_LIMIT = 8;\n\nexport const FEEDBACK_PAGE = 1;\nexport const FEEDBACK_LIMIT = 10;\n\nexport const getFurnitureByIdEndpoint = id => `/furnitures/${id}`;\n","// Функції для запитів на бекенд.\nimport axios from 'axios';\nimport {\n  BASE_URL,\n  API_ENDPOINTS,\n  getFurnitureByIdEndpoint,\n  FURNITURE_PAGE,\n  FURNITURE_LIMIT,\n  FEEDBACK_PAGE,\n  FEEDBACK_LIMIT,\n} from './constants.js';\naxios.defaults.baseURL = BASE_URL;\n// Functions for Furnitures\nexport async function getFurnitures(\n  params = { page: FURNITURE_PAGE, limit: FURNITURE_LIMIT }\n) {\n  const response = await axios.get(API_ENDPOINTS.FURNITURES, { params });\n  const furnituresData = response.data;\n  return furnituresData;\n}\n// Furniture by Id\nexport async function getFurnitureByID(id) {\n  const endpoint = getFurnitureByIdEndpoint(id);\n  const response = await axios.get(endpoint);\n  const furnitureItem = response.data;\n  return furnitureItem; // один обєкт меблів\n}\n// Functions for Categories\nexport async function getCategories() {\n  const response = await axios.get(API_ENDPOINTS.CATEGORIES);\n  const categoriesData = response.data;\n\n  return categoriesData; // масив категорій\n}\n// Feedbacks\nexport async function getFeedbacks(\n  params = { page: FEEDBACK_PAGE, limit: FURNITURE_LIMIT }\n) {\n  const response = await axios.get(API_ENDPOINTS.FEEDBACKS, { params });\n  const feedbackData = response.data;\n  return feedbackData;\n}\n// Orders\nexport async function createOrder(orderData) {\n  const response = await axios.post(API_ENDPOINTS.ORDERS, orderData);\n  const createOrder = response.data;\n  return createOrder;\n}\n","// Хендлери, які передаються в addEventListener.\n\nimport {\n  getFurnitures,\n  getFurnitureByID,\n  getCategories,\n  getFeedbacks,\n  createOrder,\n} from './products-api.js';\n\nimport {\n  FURNITURE_PAGE,\n  FURNITURE_LIMIT,\n  FEEDBACK_PAGE,\n  FEEDBACK_LIMIT,\n} from './constants.js';\n// furniture\nexport async function loadFurnitures(\n  params = { page: FURNITURE_PAGE, limit: FURNITURE_LIMIT }\n) {\n  try {\n    const data = await getFurnitures(params);\n    console.log('Furnitures:', data);\n    return data;\n  } catch (error) {\n    console.error('Furnitures downloading error:', error);\n    return null;\n  }\n}\nexport async function loadFurnitureById(id) {\n  try {\n    const data = await loadFurnitureById(id);\n    console.log('Furniture details:', data);\n    return data;\n  } catch (error) {\n    console.error('Furniture id downloading error:', error);\n    return null;\n  }\n}\nexport async function loadCategories() {\n  try {\n    const data = await loadCategories();\n    console.log('Categories:', data);\n    return data;\n  } catch (error) {\n    console.error('Categories downloading error:', error);\n    return null;\n  }\n}\nexport async function loadFeedbacks(\n  params = { page: FEEDBACK_PAGE, limit: FEEDBACK_LIMIT }\n) {\n  try {\n    const data = await loadFeedbacks(params);\n    console.log('Feedbacks', data);\n    return data;\n  } catch (error) {\n    console.error('Feedbacks downloading error:', error);\n    return null;\n  }\n}\nexport async function sendOrder() {\n  try {\n    const data = await sendOrder();\n    console.log('Order created:', data);\n    return data;\n  } catch (error) {\n    console.error('Creating order error:', error);\n    return null;\n  }\n}\n","// Функції для відображення елементів інтерфейсу.\n\nimport Accordion from \"accordion-js\";\nimport \"accordion-js/dist/accordion.min.css\";\n\n\nnew Accordion('.accordion-container', {\n  duration: 300,\n  showMultiple: false,\n});","import iziToast from \"izitoast\";\n\n// order-modal\n\n\n\nconst backdropOrderModal = document.querySelector('.backdrop');\nconst modalOrder = document.querySelector('.order-modal');\nconst closeOrderBtn = document.querySelector('.modal-close-btn');\nconst submitBtn = document.querySelector('.modal-submit-btn');\nconst orderForm = document.querySelector('.modal-order-form');\n\nfunction openOrderModal() {\n    backdropOrderModal.classList.add('is-open');\n    document.body.classList.add('modal-open');\n\n    window.addEventListener('keydown', handleEscape);\n}\n\nfunction closeOrderModal() {\n    backdropOrderModal.classList.remove('is-open');\n    document.body.classList.remove('modal-open');\n\n    window.removeEventListener('keydown', handleEscape);\n}\n\ncloseOrderBtn.addEventListener('click', closeOrderModal);\n\nbackdropOrderModal.addEventListener('click', (event) => {\n    if (event.target === backdropOrderModal) {\n        closeOrderModal();\n    }\n});\n\nfunction handleEscape(event) {\n    if (event.key === 'Escape' || event.key === 'Esc') {\n        closeOrderModal();\n    }\n}\n\norderForm.addEventListener('submit', (event) => {\n    event.preventDefault();\n\n    const name = orderForm.elements['user-name'].value.trim();\n    const phone = orderForm.elements['phone'].value.trim();\n    const comment = orderForm.elements['user-comment'].value.trim();\n\n    if (!name || !phone) {\n        iziToast.warning({\n            title: \"Ooops!\",\n            message: \"Будь ласка, заповніть всі обов'язкові поля!\",\n            position: \"topRight\",\n        });\n        return;\n    }\n\n    const clearPhone = phone.replace(/[^\\d+]/g, '');\n    const phonePattern = /^\\+?\\d{10,15}$/;\n\n    if (!phonePattern.test(clearPhone)) {\n        iziToast.warning({\n            title: \"Ooops!\",\n            message: \"Будь ласка, введіть коректний номер телефону\",\n            position: \"topRight\",\n        });\n        return;\n    }\n    \n})\n\n// тестова кнопка для відкриття модалки\ndocument.querySelector('.open-modal-btn')?.addEventListener('click', openOrderModal);","// Логіка сторінки index.html\nimport { FURNITURE_LIMIT, FURNITURE_PAGE } from './js/constants.js';\nimport { loadFurnitures } from './js/handlers.js';\n\ndocument.addEventListener('DOMContentLoaded', async () => {\n  console.log('Перевірка API...');\n  // testing furnitures\n  const furnitures = await loadFurnitures({\n    page: FURNITURE_PAGE,\n    limit: FURNITURE_LIMIT,\n  });\n  console.log('Меблі:', furnitures);\n});\n\nimport './js/render-function.js';\nimport './js/modal.js';\n"],"names":["BASE_URL","API_ENDPOINTS","FURNITURE_PAGE","FURNITURE_LIMIT","axios","getFurnitures","params","loadFurnitures","data","error","Accordion","backdropOrderModal","closeOrderBtn","orderForm","openOrderModal","handleEscape","closeOrderModal","event","name","phone","iziToast","clearPhone","furnitures"],"mappings":"owBAEO,MAAMA,EAAW,8CACXC,EAAgB,CAC3B,WAAY,cAId,EACaC,EAAiB,EACjBC,EAAkB,ECC/BC,EAAM,SAAS,QAAUJ,EAElB,eAAeK,EACpBC,EAAS,CAAE,KAAMJ,EAAgB,MAAOC,CAAe,EACvD,CAGA,OAFiB,MAAMC,EAAM,IAAIH,EAAc,WAAY,CAAE,OAAAK,EAAQ,GACrC,IAElC,CCFO,eAAeC,EACpBD,EAAS,CAAE,KAAMJ,EAAgB,MAAOC,CAAe,EACvD,CACA,GAAI,CACF,MAAMK,EAAO,MAAMH,EAAcC,CAAM,EACvC,eAAQ,IAAI,cAAeE,CAAI,EACxBA,CACT,OAASC,EAAO,CACd,eAAQ,MAAM,gCAAiCA,CAAK,EAC7C,IACT,CACF,CCtBA,IAAIC,EAAU,uBAAwB,CACpC,SAAU,IACV,aAAc,EAChB,CAAC,ECHD,MAAMC,EAAqB,SAAS,cAAc,WAAW,EAC1C,SAAS,cAAc,cAAc,EACxD,MAAMC,EAAgB,SAAS,cAAc,kBAAkB,EAC7C,SAAS,cAAc,mBAAmB,EAC5D,MAAMC,EAAY,SAAS,cAAc,mBAAmB,EAE5D,SAASC,GAAiB,CACtBH,EAAmB,UAAU,IAAI,SAAS,EAC1C,SAAS,KAAK,UAAU,IAAI,YAAY,EAExC,OAAO,iBAAiB,UAAWI,CAAY,CACnD,CAEA,SAASC,GAAkB,CACvBL,EAAmB,UAAU,OAAO,SAAS,EAC7C,SAAS,KAAK,UAAU,OAAO,YAAY,EAE3C,OAAO,oBAAoB,UAAWI,CAAY,CACtD,CAEAH,EAAc,iBAAiB,QAASI,CAAe,EAEvDL,EAAmB,iBAAiB,QAAUM,GAAU,CAChDA,EAAM,SAAWN,GACjBK,EAAe,CAEvB,CAAC,EAED,SAASD,EAAaE,EAAO,EACrBA,EAAM,MAAQ,UAAYA,EAAM,MAAQ,QACxCD,EAAe,CAEvB,CAEAH,EAAU,iBAAiB,SAAWI,GAAU,CAC5CA,EAAM,eAAc,EAEpB,MAAMC,EAAOL,EAAU,SAAS,WAAW,EAAE,MAAM,KAAI,EACjDM,EAAQN,EAAU,SAAS,MAAS,MAAM,KAAI,EAGpD,GAFgBA,EAAU,SAAS,cAAc,EAAE,MAAM,KAAI,EAEzD,CAACK,GAAQ,CAACC,EAAO,CACjBC,EAAS,QAAQ,CACb,MAAO,SACP,QAAS,8CACT,SAAU,UACtB,CAAS,EACD,MACJ,CAEA,MAAMC,EAAaF,EAAM,QAAQ,UAAW,EAAE,EAG9C,GAAI,CAFiB,iBAEH,KAAKE,CAAU,EAAG,CAChCD,EAAS,QAAQ,CACb,MAAO,SACP,QAAS,+CACT,SAAU,UACtB,CAAS,EACD,MACJ,CAEJ,CAAC,EAGD,SAAS,cAAc,iBAAiB,GAAG,iBAAiB,QAASN,CAAc,ECnEnF,SAAS,iBAAiB,mBAAoB,SAAY,CACxD,QAAQ,IAAI,kBAAkB,EAE9B,MAAMQ,EAAa,MAAMf,EAAe,CACtC,KAAML,EACN,MAAOC,CACX,CAAG,EACD,QAAQ,IAAI,SAAUmB,CAAU,CAClC,CAAC"}